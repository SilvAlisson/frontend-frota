@import "tailwindcss";

/* 1. TIPOGRAFIA TÉCNICA E MODERNA */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

@theme {
  /* --- PALETA DE CORES (OKLCH - High Dynamic Range) --- */
  /* Por que OKLCH? Para permitir opacidade nativa (ex: bg-primary/20) e gradientes perfeitos */
  
  /* Azul Petróleo (Base da Marca) */
  --color-klin-50: oklch(0.97 0.02 235);
  --color-klin-100: oklch(0.94 0.04 235);
  --color-klin-200: oklch(0.88 0.06 235);
  --color-klin-300: oklch(0.80 0.09 235);
  --color-klin-400: oklch(0.65 0.12 235);
  --color-klin-500: oklch(0.52 0.13 235.5); /* Equivalente vibrante ao #126A91 */
  --color-klin-600: oklch(0.45 0.13 235.5);
  --color-klin-700: oklch(0.38 0.11 235.5); /* Equivalente ao #0E4A5C */
  --color-klin-800: oklch(0.30 0.09 235.5);
  --color-klin-900: oklch(0.20 0.06 235.5);
  
  /* Verde Sucesso (Ajustado para harmonia visual) */
  --color-success-500: oklch(0.62 0.14 175);
  
  /* Roxo "Fantasma" (Para os registros automáticos) */
  --color-ghost-500: oklch(0.65 0.20 290);

  /* --- SISTEMA SEMÂNTICO --- */
  /* Mapeamos as cores puras para funções do sistema */
  
  --color-primary: var(--color-klin-500);
  --color-primary-foreground: oklch(1 0 0); /* Branco Puro */
  --color-primary-hover: var(--color-klin-700);
  --color-primary-soft: var(--color-klin-50);

  --color-secondary: oklch(1 0 0);
  --color-secondary-foreground: var(--color-klin-700);
  
  /* Superfícies */
  --color-background: oklch(0.985 0.002 240); /* Cool Gray muito leve */
  --color-surface: oklch(1 0 0);
  --color-surface-hover: oklch(0.99 0.002 240);
  
  --color-border: oklch(0.89 0.01 240);
  --color-input: oklch(0.92 0.01 240);
  --color-ring: var(--color-klin-500);

  /* Texto */
  --color-text-main: oklch(0.20 0.04 240); /* Slate Profundo */
  --color-text-secondary: oklch(0.45 0.04 240);
  --color-text-muted: oklch(0.70 0.02 240);

  /* Status */
  --color-error: oklch(0.63 0.22 29);
  --color-error-foreground: oklch(1 0 0);
  
  --color-warning: oklch(0.75 0.15 85);
  --color-warning-foreground: oklch(1 0 0);

  --color-success: var(--color-success-500);
  --color-success-foreground: oklch(1 0 0);

  /* --- SOMBRAS "TINTURADAS" (Color Mix) --- */
  /* O segredo do design premium: Sombras não são pretas, são azul-escuras transparentes */
  
  --shadow-card: 
    0 1px 3px 0 color-mix(in srgb, var(--color-klin-900) 6%, transparent), 
    0 1px 2px -1px color-mix(in srgb, var(--color-klin-900) 4%, transparent);
  
  --shadow-float: 
    0 10px 15px -3px color-mix(in srgb, var(--color-klin-900) 12%, transparent), 
    0 4px 6px -4px color-mix(in srgb, var(--color-klin-900) 8%, transparent);
    
  --shadow-button: 0 1px 2px 0 color-mix(in srgb, var(--color-klin-900) 10%, transparent);

  /* --- ANIMAÇÕES NATIVAS V4 --- */
  --animate-ghost-pulse: ghost-pulse 3s infinite ease-in-out;
  --animate-enter: enter 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; /* Curva Apple-like */
  
  @keyframes ghost-pulse {
    0%, 100% { 
      background-color: color-mix(in srgb, var(--color-surface) 100%, transparent);
      border-color: var(--color-border);
    }
    50% { 
      /* Pulsa para um roxo espectral muito suave */
      background-color: color-mix(in srgb, var(--color-ghost-500) 8%, var(--color-surface)); 
      border-color: var(--color-ghost-500);
    }
  }

  @keyframes enter {
    from { opacity: 0; transform: translateY(8px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  /* Fontes */
  --font-sans: "Inter", ui-sans-serif, system-ui;
  --font-mono: "JetBrains Mono", monospace;
  
  /* Raios */
  --radius-lg: 0.75rem;
  --radius-md: 0.5rem;
  --radius-sm: 0.25rem;
}

/* --- 2. CAMADA BASE (Reset Inteligente) --- */
@layer base {
  body {
    @apply bg-background text-text-main antialiased font-sans;
    /* Features OpenType para números tabulares (importante para tabelas financeiras) */
    font-feature-settings: "tnum", "cv02", "cv03", "cv04"; 
    -webkit-font-smoothing: antialiased;
  }

  /* Scrollbar Moderna e Minimalista */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300/60 rounded-full transition-colors;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-primary/60; /* Usa a cor primária com opacidade */
  }
  
  /* Remove highlight azul mobile ao clicar */
  * {
    -webkit-tap-highlight-color: transparent;
  }
}

/* --- 3. UTILITÁRIOS DE ELITE --- */
@layer utilities {
  
  /* Vidro Fosco Real (Glassmorphism) */
  .glass {
    @apply bg-surface/80 backdrop-blur-xl border border-white/40 shadow-float;
  }

  /* O Fantasma (Assombração do Sistema) */
  .ghost-row {
    @apply relative border-l-4 overflow-hidden transition-colors;
    /* A animação agora vem da variável do tema v4 */
    animation: var(--animate-ghost-pulse);
    border-left-color: var(--color-ghost-500);
  }

  /* Tipografia Técnica para IDs e Placas */
  .text-data {
    @apply font-mono tracking-tight text-text-secondary font-medium text-xs;
  }
  
  /* Hover 3D Sutil para Cards */
  .hover-lift {
    @apply transition-transform duration-300 ease-out;
  }
  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-float);
  }
}